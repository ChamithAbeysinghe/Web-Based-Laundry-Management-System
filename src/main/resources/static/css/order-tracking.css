/* LaundryPro Order Tracking â€” Light-only Redesign (Simplified) */

/* Page-specific body style */
body.tracking-page {
    /* Use the main body styles from index.css, but override the background */
    background:
            radial-gradient(800px 400px at 85% -10%, rgba(8, 145, 178, .14), transparent 60%),
            radial-gradient(700px 420px at -10% 20%, rgba(3, 105, 161, .10), transparent 60%),
            var(--color-bg-light);
}

/* Main layout */
.tracking-main {
    flex: 1; /* Ensure it takes up available space */
    padding: 3rem 1rem;
}

.tracking-container{
    max-width:1200px; margin:0 auto; display:flex; flex-direction:column; gap:2rem;
}
.tracking-header h1{ margin:0 0 .4rem; font-size:2.1rem; color: var(--color-text-primary); }
.tracking-header p{ margin:0; color:var(--color-text-secondary) }

/* Card */
.card{
    background: white;
    border:1px solid var(--color-border);
    border-radius:20px;
    padding:1.4rem;
    box-shadow: 0 8px 25px rgba(15, 23, 42, 0.05);
    transition: transform .3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow .3s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.card:hover{
    transform:translateY(-5px);
    box-shadow: 0 15px 40px rgba(15, 23, 42, 0.1), 0 0 20px rgba(3, 105, 161, 0.1);
}


/* Search */
.search-form{ display:flex; gap:1rem; align-items:flex-end; flex-wrap:wrap }
.form-group{ flex:1; min-width:260px }
.form-group label {
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: 0.5rem;
    display: block;
}
.input-wrapper{ position:relative }
.input-wrapper input{
    width:100%;
    padding:.85rem 1rem .85rem 2.75rem;
    border-radius:12px;
    background:#fff;
    border:1px solid var(--color-border);
    color:var(--color-text-primary);
    font-size:1rem;
    transition:box-shadow .2s, border-color .2s, background .2s;
    box-shadow: 0 2px 4px rgba(15, 23, 42, 0.04) inset;
}
.input-wrapper input::placeholder{ color: var(--color-text-secondary) }
.input-wrapper input:focus{
    outline:0;
    box-shadow:0 0 0 4px rgba(3, 105, 161, 0.18);
    border-color: var(--color-primary);
    background:#fff
}
.input-icon{
    position:absolute; left:1rem; top:50%; transform:translateY(-50%);
    color:var(--color-primary); font-size:1.1rem; opacity:.9;
}
.btn-search {
    padding: .85rem 1.4rem !important; /* Ensure padding is consistent with primary buttons */
}


/* Order Details */
.order-details{ display:flex; flex-direction:column; gap:1.1rem }
.order-info{
    display:flex; justify-content:space-between; align-items:center; gap:1rem; flex-wrap:wrap; font-size:1.02rem;
}
.order-id{ font-size:1.35rem; font-weight:800; letter-spacing:.3px; color: var(--color-text-primary); }
.status-badge{
    padding:.4rem .9rem; border-radius:999px; font-weight:600; letter-spacing:.5px; text-transform:uppercase; font-size:.78rem;
    border:1px solid var(--color-border); background:#f1f5f9; color:#475569;
}
/* State colors for badge */
.status-badge.completed{ background:#dcfce7; color:#166534; border-color:#bbf7d0 }
.status-badge.in-progress{ background:#fef3c7; color:#92400e; border-color:#fde68a }
.status-badge.upcoming{ background:#f1f5f9; color:#475569; border-color:#e2e8f0 }
/* If JS uses status-* step classes, style them generically */
.status-badge[class*="status-"]{ background:#e0f2fe; color:#0c4a6e; border-color:#bae6fd }

.order-summary{
    display:grid; gap:1rem; grid-template-columns:repeat(auto-fit, minmax(140px,1fr));
}
.summary-item{
    text-align:center; background:#f8fafc; border:1px solid var(--color-border); border-radius:14px; padding:1rem; font-weight:600; color:var(--color-text-secondary);
}
.summary-item i{ font-size:1.4rem; color:var(--color-primary); margin-bottom:.45rem; display:block }

/* Tracking Timeline */
.tracking-timeline{ overflow:hidden }
.tracking-timeline h2{ margin:0 0 .9rem; color: var(--color-text-primary); }
.timeline{
    position:relative; display:flex; gap:0; padding:.3rem .5rem 0;
}
/* No base line here to avoid double track */

.timeline-item{
    flex:1; text-align:center; position:relative; padding:1rem .5rem 1.1rem;
    opacity:0; animation:fadeSlideIn .35s forwards; animation-delay:calc(.06s * var(--delay));
}
.timeline-item:nth-child(1){ --delay:1 } .timeline-item:nth-child(2){ --delay:2 }
.timeline-item:nth-child(3){ --delay:3 } .timeline-item:nth-child(4){ --delay:4 }
.timeline-item:nth-child(5){ --delay:5 } .timeline-item:nth-child(6){ --delay:6 }
.timeline-item:nth-child(7){ --delay:7 }

.timeline-dot{
    position:relative; z-index:2; width:54px; height:54px; margin:0 auto .7rem; border-radius:50%;
    display:grid; place-items:center; background:#e2e8f0; color:#334155;
    box-shadow:0 8px 22px rgba(15, 23, 42, 0.1); transition:transform .2s, box-shadow .2s, background .2s, color .2s;
}
.timeline-content h3{ margin:0 0 .3rem; font-size:1.02rem; font-weight:800; color: var(--color-text-primary); }
.timeline-content p{ margin:0; color:var(--color-text-secondary); font-size:.95rem }
.timeline-time{ margin-top:.35rem; font-size:.85rem; color:#64748b }

/* Per-item connector (only one track, colored; shows for completed/current only) */
.timeline-item::after{
    content:""; position:absolute; top:32px; left:50%; width:100%; height:3px; transform:translateX(0);
    background:linear-gradient(90deg, var(--color-primary), var(--color-accent)); z-index:1; opacity:0; transition:opacity .25s ease;
}
.timeline-item:last-child::after{ display:none }

/* Timeline states */
.timeline-item.completed .timeline-dot,
.timeline-item.is-completed .timeline-dot {
    background:var(--color-success); color:#fff; box-shadow:0 10px 26px rgba(16,185,129,.35);
}
.timeline-item.in-progress .timeline-dot,
.timeline-item.is-current .timeline-dot {
    background:#f59e0b; color:#fff; box-shadow:0 10px 26px rgba(245,158,11,.35); animation:pulse 1.8s infinite;
}
.timeline-item.upcoming .timeline-dot,
.timeline-item.is-upcoming .timeline-dot {
    background:#e2e8f0; color:#475569; opacity:.95;
}
.timeline-item.completed::after,
.timeline-item.is-completed::after { opacity:.9 }
.timeline-item.in-progress::after,
.timeline-item.is-current::after { opacity:.55 }


@keyframes fadeSlideIn{ from{ opacity:0; transform:translateY(8px) } to{ opacity:1; transform:translateY(0) } }
@keyframes pulse{ 0%{ transform:scale(1) } 50%{ transform:scale(1.07) } 100%{ transform:scale(1) } }

/* Estimated Timeline */
.estimated-timeline h2{ margin:0 0 .7rem; color: var(--color-text-primary); }
.timeline-bar{
    background:#eef2f7; height:14px; border-radius:999px; overflow:hidden; position:relative; border:1px solid var(--color-border);
}
.timeline-progress{
    height:100%; background:linear-gradient(135deg, var(--color-primary), var(--color-accent));
    box-shadow:inset 0 0 8px rgba(255,255,255,.25), 0 0 14px rgba(8, 145, 178, .25);
    transition:width 1.1s cubic-bezier(.2,.8,.2,1);
    border-radius: inherit; /* ensure full end cap when at 100% */
    will-change: width; /* optimize animation */
}
.timeline-info{ display:flex; justify-content:space-between; font-weight:700; color:var(--color-text-secondary); gap:1rem }

/* Order Items */
.order-items h2{ margin:0 0 1rem; color: var(--color-text-primary); }
.items-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(160px, 1fr)); gap:1.1rem }
.item-card{
    background:#fff; border:1px solid var(--color-border); border-radius:14px; text-align:center; padding:1.2rem;
    box-shadow: 0 8px 25px rgba(15, 23, 42, 0.05);
    transition:transform .2s, box-shadow .2s, background .2s;
}
.item-card:hover{ transform:translateY(-3px) scale(1.01); box-shadow:0 16px 34px rgba(15, 23, 42, 0.12) }
.item-icon{ font-size:2rem; color:var(--color-primary); margin-bottom:.55rem }
.item-name{ font-weight:800; margin-bottom:.2rem; color: var(--color-text-primary); }
.item-qty{ color:var(--color-text-secondary); font-weight:600; margin-bottom:.1rem }
.item-price{ font-weight:800; color: var(--color-text-primary); }

/* Support */
.support-section{
    margin-top: 2rem;
}
.support-card{
    display: flex;
    align-items: center;
    gap: 1.5rem;
    max-width: 600px;
    margin: 0 auto;
    padding: 1.5rem;
}
.support-icon{ font-size:2.2rem; color:var(--color-primary); }
.support-info {
    flex: 1;
    text-align: left;
}
.support-info h3 { margin: 0 0 0.25rem; color: var(--color-text-primary); }
.support-info p { margin: 0; color: var(--color-text-secondary); }

/* Loading */
.loading{ display:none; text-align:center; margin:1.4rem 0; font-size:1.2rem; color:var(--color-primary) }
.loading i{ font-size:2.2rem; animation:spin 1s linear infinite }
@keyframes spin{ to{ transform:rotate(360deg) } }

/* Reveal Animation */
.reveal {
    opacity: 0;
    transform: translateY(30px) scale(0.98);
    transition: opacity 0.7s var(--ease-out-expo), transform 0.7s var(--ease-out-expo);
    will-change: opacity, transform;
}
.reveal.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
}

/* Responsive */
@media (max-width:900px){
    .order-summary{ grid-template-columns:repeat(2, 1fr) }
}
@media (max-width:768px){
    .search-form{ flex-direction:column; align-items:stretch }
    .timeline{ flex-direction:column; gap:.7rem; padding:.25rem 0 }
    /* No vertical base line (avoids double track) */
    .timeline-item{
        display:grid; grid-template-columns:54px 1fr; align-items:center; padding:.5rem; text-align:left;
    }
    .timeline-dot{ margin:0 }
    .timeline-item::after{
        top:50%; left:27px; width:3px; height:100%; transform:translate(-50%,0);
        background:linear-gradient(180deg, var(--color-primary), var(--color-accent));
    }
    .timeline-item:last-child::after{ display:none }
}
@media (max-width:480px){
    .tracking-main{ padding:1.5rem .75rem }
}

/* Motion preferences */
@media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important }
}

.order-actions {
    display: flex;
    justify-content: flex-end;
    margin-top: .5rem;
}
.btn-danger {
    background: var(--color-error); /* red-500 */
    color: #fff;
    border: none;
}
.btn-danger:hover { background: #dc2626; } /* red-600 */
.btn-danger:disabled { opacity: .6; cursor: not-allowed; }